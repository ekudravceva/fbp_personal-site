<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ | –ö–æ–Ω—Ç–∞–∫—Ç—ã</title>
    <link rel="stylesheet" href="../styles/styles.css">
</head>

<body>
    <a class="skip-link" href="#main">–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É</a>

    <!-- –•–µ–¥–µ—Ä -->
    <header class="header" role="banner">
        <div class="container">
            <div class="logo">
                <h1>–ö—É–¥—Ä—è–≤—Ü–µ–≤–∞ –ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –Æ—Ä—å–µ–≤–Ω–∞</h1>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ –≥–∞–º–±—É—Ä–≥–µ—Ä–∞ -->
            <button class="nav-toggle" id="navToggle" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é" aria-expanded="false"
                aria-controls="mainNav">
                <span></span>
                <span></span>
                <span></span>
            </button>

            <nav class="nav" id="mainNav" role="navigation" aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
                <ul>
                    <li><a href="../index.html" aria-current="page">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="projects.html">–ü—Ä–æ–µ–∫—Ç—ã</a></li>
                    <li><a href="diary.html">–î–Ω–µ–≤–Ω–∏–∫</a></li>
                    <li><a href="contacts.html" class="active">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                </ul>
            </nav>

            <button class="theme-toggle" id="themeToggle" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">üåô</button>
        </div>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main id="main" class="main" role="main">
        <section class="contacts" aria-labelledby="contacts-heading">
            <div class="container">
                <h1 id="contacts-heading">–°–≤—è–∂–∏—Ç–µ—Å—å —Å–æ –º–Ω–æ–π</h1>

                <div class="contacts-content">
                    <div class="contact-form-container">
                        <form class="contact-form" id="contactForm" novalidate aria-live="polite">
                            <fieldset>
                                <legend>–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</legend>

                                <div class="form-group">
                                    <label for="name">
                                        –ò–º—è:
                                        <span class="required" aria-hidden="true">*</span>
                                        <span class="sr-only">–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ</span>
                                    </label>
                                    <input type="text" id="name" name="name" required aria-required="true"
                                        aria-invalid="false" aria-describedby="nameError nameHelp" autocomplete="name">
                                    <span class="error-message" id="nameError" role="alert"
                                        aria-live="assertive"></span>
                                    <span class="help-text" id="nameHelp">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –ø–æ–ª–Ω–æ–µ –∏–º—è</span>
                                </div>

                                <div class="form-group">
                                    <label for="email">
                                        Email:
                                        <span class="required" aria-hidden="true">*</span>
                                        <span class="sr-only">–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ</span>
                                    </label>
                                    <input type="email" id="email" name="email" required aria-required="true"
                                        aria-invalid="false" aria-describedby="emailError emailHelp"
                                        autocomplete="email">
                                    <span class="error-message" id="emailError" role="alert"
                                        aria-live="assertive"></span>
                                    <span class="help-text" id="emailHelp">–í–≤–µ–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤—É—é—â–∏–π email –∞–¥—Ä–µ—Å</span>
                                </div>

                                <div class="form-group">
                                    <label for="message">
                                        –°–æ–æ–±—â–µ–Ω–∏–µ:
                                        <span class="required" aria-hidden="true">*</span>
                                        <span class="sr-only">–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ</span>
                                    </label>
                                    <textarea id="message" name="message" rows="5" required aria-required="true"
                                        aria-invalid="false" aria-describedby="messageError messageHelp"></textarea>
                                    <span class="error-message" id="messageError" role="alert"
                                        aria-live="assertive"></span>
                                    <span class="help-text" id="messageHelp">–û–ø–∏—à–∏—Ç–µ —Ü–µ–ª—å –≤–∞—à–µ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è</span>
                                </div>

                                <button type="submit" class="btn" aria-describedby="submitHelp">
                                    –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
                                </button>
                                <span class="help-text" id="submitHelp">–í—Å–µ –ø–æ–ª—è, –æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ –∑–≤—ë–∑–¥–æ—á–∫–æ–π (*), –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
                                    –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è</span>
                            </fieldset>
                        </form>
                    </div>

                    <div class="contact-info" aria-labelledby="contact-info-heading">
                        <h2 id="contact-info-heading">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
                        <div class="contact-item">
                            <span class="contact-icon" aria-hidden="true">‚úâÔ∏è</span>
                            <span>mymail@edu.mirea.ru</span>
                        </div>
                        <div class="contact-item">
                            <span class="contact-icon" aria-hidden="true">üíª</span>
                            <span>GitHub: ekudravceva</span>
                        </div>
                        <div class="contact-item">
                            <span class="contact-icon" aria-hidden="true">üìç</span>
                            <span>–ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="footer" role="contentinfo">
        <div class="container">
            <p>¬© 2025 –ö–æ–Ω—Ç–∞–∫—Ç—ã</p>
        </div>
    </footer>

    <script>
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é
        function initMobileMenu() {
            const navToggle = document.getElementById('navToggle');
            const mainNav = document.getElementById('mainNav');
            const body = document.body;

            if (!navToggle || !mainNav) return;

            // –°–æ–∑–¥–∞–µ–º –æ–≤–µ—Ä–ª–µ–π
            const overlay = document.createElement('div');
            overlay.className = 'nav-overlay';
            overlay.setAttribute('aria-hidden', 'true');
            body.appendChild(overlay);

            // –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é
            function openMenu() {
                navToggle.classList.add('active');
                navToggle.setAttribute('aria-expanded', 'true');
                mainNav.classList.add('active');
                overlay.classList.add('active');
                overlay.setAttribute('aria-hidden', 'false');
                body.style.overflow = 'hidden';

                // –ó–∞—Ö–≤–∞—Ç —Ñ–æ–∫—É—Å–∞ –≤ –º–µ–Ω—é
                const firstLink = mainNav.querySelector('a');
                if (firstLink) firstLink.focus();
            }

            // –§—É–Ω–∫—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é
            function closeMenu() {
                navToggle.classList.remove('active');
                navToggle.setAttribute('aria-expanded', 'false');
                mainNav.classList.remove('active');
                overlay.classList.remove('active');
                overlay.setAttribute('aria-hidden', 'true');
                body.style.overflow = '';

                // –í–æ–∑–≤—Ä–∞—Ç —Ñ–æ–∫—É—Å–∞ –Ω–∞ –∫–Ω–æ–ø–∫—É –º–µ–Ω—é
                navToggle.focus();
            }

            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–Ω—é
            navToggle.addEventListener('click', function (e) {
                e.stopPropagation();
                if (mainNav.classList.contains('active')) {
                    closeMenu();
                } else {
                    openMenu();
                }
            });

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ –æ–≤–µ—Ä–ª–µ–π
            overlay.addEventListener('click', closeMenu);

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ —Å—Å—ã–ª–∫—É
            const navLinks = mainNav.querySelectorAll('a');
            navLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    const href = this.getAttribute('href');
                    if (href && href !== '#' && !href.includes('javascript')) {
                        setTimeout(closeMenu, 300);
                    } else {
                        closeMenu();
                    }
                });
            });

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape
            document.addEventListener('keydown', function (e) {
                if (e.key === 'Escape' && mainNav.classList.contains('active')) {
                    closeMenu();
                }
            });

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ —Ä–µ—Å–∞–π–∑–µ
            window.addEventListener('resize', function () {
                if (window.innerWidth > 768 && mainNav.classList.contains('active')) {
                    closeMenu();
                }
            });

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –º–µ–Ω—é
            document.addEventListener('click', function (e) {
                if (mainNav.classList.contains('active') &&
                    !mainNav.contains(e.target) &&
                    !navToggle.contains(e.target) &&
                    !overlay.contains(e.target)) {
                    closeMenu();
                }
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º—ã
        function applyTheme(theme) {
            if (theme === 'dark') {
                document.body.classList.add('dark-theme');
                themeToggle.textContent = '‚òÄÔ∏è';
                themeToggle.setAttribute('aria-label', '–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É');
            } else {
                document.body.classList.remove('dark-theme');
                themeToggle.textContent = 'üåô';
                themeToggle.setAttribute('aria-label', '–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Ç–µ–º–Ω—É—é —Ç–µ–º—É');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–º—ã
        function saveTheme(theme) {
            localStorage.setItem('theme', theme);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ–º—ã
        function loadTheme() {
            return localStorage.getItem('theme') || 'light';
        }

        // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
        function initFormValidation() {
            const contactForm = document.getElementById('contactForm');
            const nameInput = document.getElementById('name');
            const emailInput = document.getElementById('email');
            const messageInput = document.getElementById('message');

            function validateName() {
                const value = nameInput.value.trim();
                const errorElement = document.getElementById('nameError');

                if (value === '') {
                    nameInput.setAttribute('aria-invalid', 'true');
                    errorElement.textContent = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è';
                    return false;
                } else if (value.length < 2) {
                    nameInput.setAttribute('aria-invalid', 'true');
                    errorElement.textContent = '–ò–º—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞';
                    return false;
                } else {
                    nameInput.setAttribute('aria-invalid', 'false');
                    errorElement.textContent = '';
                    return true;
                }
            }

            function validateEmail() {
                const value = emailInput.value.trim();
                const errorElement = document.getElementById('emailError');
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

                if (value === '') {
                    emailInput.setAttribute('aria-invalid', 'true');
                    errorElement.textContent = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à email';
                    return false;
                } else if (!emailRegex.test(value)) {
                    emailInput.setAttribute('aria-invalid', 'true');
                    errorElement.textContent = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –∞–¥—Ä–µ—Å';
                    return false;
                } else {
                    emailInput.setAttribute('aria-invalid', 'false');
                    errorElement.textContent = '';
                    return true;
                }
            }

            function validateMessage() {
                const value = messageInput.value.trim();
                const errorElement = document.getElementById('messageError');

                if (value === '') {
                    messageInput.setAttribute('aria-invalid', 'true');
                    errorElement.textContent = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ';
                    return false;
                } else if (value.length < 10) {
                    messageInput.setAttribute('aria-invalid', 'true');
                    errorElement.textContent = '–°–æ–æ–±—â–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤';
                    return false;
                } else {
                    messageInput.setAttribute('aria-invalid', 'false');
                    errorElement.textContent = '';
                    return true;
                }
            }

            // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –≤–≤–æ–¥–µ
            nameInput.addEventListener('input', validateName);
            emailInput.addEventListener('input', validateEmail);
            messageInput.addEventListener('input', validateMessage);

            // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Ñ–æ–∫—É—Å–∞
            nameInput.addEventListener('blur', validateName);
            emailInput.addEventListener('blur', validateEmail);
            messageInput.addEventListener('blur', validateMessage);

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
            contactForm.addEventListener('submit', function (e) {
                e.preventDefault();

                const isNameValid = validateName();
                const isEmailValid = validateEmail();
                const isMessageValid = validateMessage();

                if (isNameValid && isEmailValid && isMessageValid) {
                    // –ò–º–∏—Ç–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
                    const submitButton = contactForm.querySelector('button[type="submit"]');
                    const originalText = submitButton.textContent;

                    submitButton.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';
                    submitButton.disabled = true;

                    setTimeout(() => {
                        alert('–°–æ–æ–±—â–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! –°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ.');
                        contactForm.reset();
                        submitButton.textContent = originalText;
                        submitButton.disabled = false;

                        // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏–π ARIA
                        [nameInput, emailInput, messageInput].forEach(input => {
                            input.setAttribute('aria-invalid', 'false');
                        });

                        // –§–æ–∫—É—Å –Ω–∞ –ø–µ—Ä–≤—É—é –ø–æ–ª–µ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
                        nameInput.focus();
                    }, 1500);
                } else {
                    // –§–æ–∫—É—Å –Ω–∞ –ø–µ—Ä–≤–æ–µ –ø–æ–ª–µ —Å –æ—à–∏–±–∫–æ–π
                    const firstInvalid = contactForm.querySelector('[aria-invalid="true"]');
                    if (firstInvalid) {
                        firstInvalid.focus();
                    }
                }
            });
        }

        // –û–î–ò–ù DOMContentLoaded –¥–ª—è –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function () {
            const themeToggle = document.getElementById('themeToggle');

            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Ç–µ–º—É
            const savedTheme = loadTheme();
            applyTheme(savedTheme);

            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
            themeToggle.addEventListener('click', function () {
                const isDark = document.body.classList.contains('dark-theme');
                const newTheme = isDark ? 'light' : 'dark';

                applyTheme(newTheme);
                saveTheme(newTheme);
            });

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é
            initMobileMenu();

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º—ã
            initFormValidation();
        });
    </script>

</body>

</html>